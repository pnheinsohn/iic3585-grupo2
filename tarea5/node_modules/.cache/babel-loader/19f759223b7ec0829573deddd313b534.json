{"remainingRequest":"/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/babel-loader/lib/index.js!/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/seba/Desktop/tareas-avanzado/tarea5/src/components/CollectionItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/seba/Desktop/tareas-avanzado/tarea5/src/components/CollectionItem.vue","mtime":1591574562837},{"path":"/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIi9ob21lL3NlYmEvRGVza3RvcC90YXJlYXMtYXZhbnphZG8vdGFyZWE1L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3NlYmEvRGVza3RvcC90YXJlYXMtYXZhbnphZG8vdGFyZWE1L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IEFsYnVtSXRlbSBmcm9tICcuL0FsYnVtSXRlbS52dWUnOwppbXBvcnQgeyBDYXJvdXNlbCwgU2xpZGUgfSBmcm9tICd2dWUtY2Fyb3VzZWwnOwp2YXIgbG9jYWxBbGJ1bXNVUkwgPSAiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FsYnVtcyI7CnZhciBwbGF5bGlzdHNVUkwgPSAiaHR0cDovL2xvY2FsaG9zdDozMDAwL3BsYXlsaXN0cyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUGxheWxpc3RJdGVtJywKICBjb21wb25lbnRzOiB7CiAgICBBbGJ1bUl0ZW06IEFsYnVtSXRlbSwKICAgIENhcm91c2VsOiBDYXJvdXNlbCwKICAgIFNsaWRlOiBTbGlkZQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5hbWU6ICcnLAogICAgICBhbGJ1bXM6IFtdLAogICAgICBhbGJ1bUlkczogW10KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgdmFyIHBsYXlsaXN0UmVzLCBhbGJ1bUlkcywgYWxidW1Qcm9taXNlcywgc29sdmVkUHJvbWlzZXM7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAwOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KHBsYXlsaXN0c1VSTCwgewogICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgIGlkOiBfdGhpcy4kcm91dGUucGFyYW1zLmlkCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcGxheWxpc3RSZXMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBhbGJ1bUlkcyA9IHBsYXlsaXN0UmVzLmRhdGFbMF0uYWxidW1JZHM7CiAgICAgICAgICAgICAgX3RoaXMuYWxidW1JZHMgPSBhbGJ1bUlkczsKICAgICAgICAgICAgICBhbGJ1bVByb21pc2VzID0gYWxidW1JZHMubWFwKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoaWQpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQobG9jYWxBbGJ1bXNVUkwsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogaWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dC5zZW50KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9KCkpOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gOTsKICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoYWxidW1Qcm9taXNlcyk7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgc29sdmVkUHJvbWlzZXMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBzb2x2ZWRQcm9taXNlcy5mb3JFYWNoKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgIF90aGlzLmFsYnVtcyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoX3RoaXMuYWxidW1zKSwgW3Jlcy5kYXRhWzBdXSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNjsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxMzsKICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihfY29udGV4dDIudDApOwoKICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzAsIDEzXV0pOwogICAgfSkpKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICByZW1vdmVBbGJ1bTogZnVuY3Rpb24gcmVtb3ZlQWxidW0oYWxidW1JZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczIuYWxidW1zID0gX3RoaXMyLmFsYnVtcy5maWx0ZXIoZnVuY3Rpb24gKGFsYnVtKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBhbGJ1bS5pZCAhPT0gYWxidW1JZDsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX3RoaXMyLmFsYnVtSWRzID0gX3RoaXMyLmFsYnVtSWRzLmZpbHRlcihmdW5jdGlvbiAoaWQpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGlkICE9PSBhbGJ1bUlkOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpczIuJHJvdXRlLnBhcmFtcy5pZCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucGF0Y2gocGxheWxpc3RzVVJMICsgJy8nICsgX3RoaXMyLiRyb3V0ZS5wYXJhbXMuaWQsIHsKICAgICAgICAgICAgICAgICAgYWxidW1JZHM6IF90aGlzMi5hbGJ1bUlkcwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["CollectionItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkBA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,SAAA,MAAA,iBAAA;AACA,SAAA,QAAA,EAAA,KAAA,QAAA,cAAA;AAEA,IAAA,cAAA,GAAA,8BAAA;AACA,IAAA,YAAA,GAAA,iCAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA,SADA;AAEA,IAAA,QAAA,EAAA,QAFA;AAGA,IAAA,KAAA,EAAA;AAHA,GAFA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,MAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA;AAHA,KAAA;AAKA,GAbA;AAcA,EAAA,OAdA,qBAcA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEA,KAAA,CAAA,GAAA,CAAA,YAAA,EAAA;AACA,gBAAA,MAAA,EAAA;AACA,kBAAA,EAAA,EAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA;AADA;AADA,eAAA,CAFA;;AAAA;AAEA,cAAA,WAFA;AAOA,cAAA,QAPA,GAOA,WAAA,CAAA,IAAA,CAAA,CAAA,EAAA,QAPA;AAQA,cAAA,KAAA,CAAA,QAAA,GAAA,QAAA;AACA,cAAA,aATA,GASA,QAAA,CAAA,GAAA;AAAA,mFAAA,iBAAA,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCACA,KAAA,CAAA,GAAA,CAAA,cAAA,EAAA;AACA,4BAAA,MAAA,EAAA;AACA,8BAAA,EAAA,EAAA;AADA;AADA,2BAAA,CADA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAA;;AAAA;AAAA;AAAA;AAAA,kBATA;AAAA;AAAA,qBAgBA,OAAA,CAAA,GAAA,CAAA,aAAA,CAhBA;;AAAA;AAgBA,cAAA,cAhBA;AAiBA,cAAA,cAAA,CAAA,OAAA,CAAA,UAAA,GAAA,EAAA;AACA,gBAAA,KAAA,CAAA,MAAA,gCAAA,KAAA,CAAA,MAAA,IAAA,GAAA,CAAA,IAAA,CAAA,CAAA,CAAA;AACA,eAFA;AAjBA;AAAA;;AAAA;AAAA;AAAA;AAqBA,cAAA,OAAA,CAAA,KAAA;;AArBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuBA,GArCA;AAsCA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,uBACA,OADA,EACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MAAA,CAAA,MAAA,GAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,UAAA,KAAA;AAAA,yBAAA,KAAA,CAAA,EAAA,KAAA,OAAA;AAAA,iBAAA,CAAA;AACA,gBAAA,MAAA,CAAA,QAAA,GAAA,MAAA,CAAA,QAAA,CAAA,MAAA,CAAA,UAAA,EAAA;AAAA,yBAAA,EAAA,KAAA,OAAA;AAAA,iBAAA,CAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA;AAHA;AAAA,uBAIA,KAAA,CAAA,KAAA,CAAA,YAAA,GAAA,GAAA,GAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA;AACA,kBAAA,QAAA,EAAA,MAAA,CAAA;AADA,iBAAA,CAJA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AARA;AAtCA,CAAA","sourcesContent":["<template>\n    <carousel\n        ref=\"my-carousel\"\n        :loop=\"true\"\n        :autoplay=\"true\"\n        :autoplayTimeout=\"10000\"\n        :autoplayHoverPause=\"true\"\n        :perPage=\"6\"\n        :navigationEnabled=\"true\"\n        :speed=\"1500\"\n        :centerMode=\"true\">\n        <slide v-bind:key=\"album.id\" v-for=\"album in albums.slice().reverse()\">\n            <AlbumItem v-bind:album=\"album\" v-on:remove-album=\"removeAlbum\"/>\n        </slide>\n    </carousel>\n</template>\n\n<script>\nimport axios from 'axios';\nimport AlbumItem from './AlbumItem.vue';\nimport { Carousel, Slide } from 'vue-carousel';\n\nconst localAlbumsURL = \"http://localhost:3000/albums\";\nconst playlistsURL = \"http://localhost:3000/playlists\";\n\nexport default {\n    name: 'PlaylistItem',\n    components: {\n        AlbumItem,\n        Carousel,\n        Slide,\n    },\n    data() {\n        return {\n            name: '',\n            albums: [],\n            albumIds: [],\n        }\n  },\n    async created() {\n        try {\n            const playlistRes = await axios.get(playlistsURL, {\n                params: {\n                    id: this.$route.params.id,\n                }\n            });\n            const albumIds = playlistRes.data[0].albumIds;\n            this.albumIds = albumIds;\n            const albumPromises = albumIds.map(async (id) => {\n                return await axios.get(localAlbumsURL, {\n                    params: {\n                        id,\n                    }\n                });\n            });\n            const solvedPromises = await Promise.all(albumPromises);\n            solvedPromises.forEach((res) => {\n                this.albums = [...this.albums, res.data[0]];\n            });\n        } catch(error) {\n            console.error(error);\n        }\n    },\n    methods: {\n        async removeAlbum(albumId) {\n            this.albums = this.albums.filter((album) => album.id !== albumId);\n            this.albumIds = this.albumIds.filter((id) => id !== albumId);\n            console.log(this.$route.params.id)\n            await axios.patch(playlistsURL + '/' + this.$route.params.id, {\n                albumIds: this.albumIds,\n            });\n        },\n    }\n}\n</script>\n\n<style>\n</style>"],"sourceRoot":"src/components"}]}