{"remainingRequest":"/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/babel-loader/lib/index.js!/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/eslint-loader/index.js??ref--13-0!/home/seba/Desktop/tareas-avanzado/tarea5/src/store/modules/collections.js","dependencies":[{"path":"/home/seba/Desktop/tareas-avanzado/tarea5/src/store/modules/collections.js","mtime":1591607282907},{"path":"/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9zZWJhL0Rlc2t0b3AvdGFyZWFzLWF2YW56YWRvL3RhcmVhNS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBhbGJ1bXMgZnJvbSAnLi9hbGJ1bXMnOwp2YXIgbG9jYWxDb2xsZWN0aW9uc1VSTCA9ICJodHRwOi8vbG9jYWxob3N0OjMwMDAvcGxheWxpc3RzIjsKdmFyIHN0YXRlID0gewogIGNvbGxlY3Rpb25zOiBbXQp9Owp2YXIgZ2V0dGVycyA9IHsKICBhbGxDb2xsZWN0aW9uczogZnVuY3Rpb24gYWxsQ29sbGVjdGlvbnMoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5jb2xsZWN0aW9uczsKICB9Cn07CnZhciBhY3Rpb25zID0gewogIGZldGNoQ29sbGVjdGlvbnM6IGZ1bmN0aW9uIGZldGNoQ29sbGVjdGlvbnMoX3JlZikgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGNvbW1pdCwgcmVzcG9uc2U7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KGxvY2FsQ29sbGVjdGlvbnNVUkwpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBjb21taXQoJ3NldENvbGxlY3Rpb25zJywgcmVzcG9uc2UuZGF0YSk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBhZGRBbGJ1bVRvQ29sbGVjdGlvbjogZnVuY3Rpb24gYWRkQWxidW1Ub0NvbGxlY3Rpb24oXywgX3JlZjIpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgZXZlbnQsIGFsYnVtLCBjb2xsZWN0aW9uOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGV2ZW50ID0gX3JlZjIuZXZlbnQsIGFsYnVtID0gX3JlZjIuYWxidW0sIGNvbGxlY3Rpb24gPSBfcmVmMi5jb2xsZWN0aW9uOwoKICAgICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LmNoZWNrZWQpIHsKICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24uYWxidW1JZHMucHVzaChhbGJ1bS5pZCk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24uYWxidW1JZHMgPSBjb2xsZWN0aW9uLmFsYnVtSWRzLmZpbHRlcihmdW5jdGlvbiAoaWQpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGlkICE9IGFsYnVtLmlkOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBhdGNoKGxvY2FsQ29sbGVjdGlvbnNVUkwgKyAnLycgKyBjb2xsZWN0aW9uLmlkLCB7CiAgICAgICAgICAgICAgICBhbGJ1bUlkczogY29sbGVjdGlvbi5hbGJ1bUlkcwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGlmIChhbGJ1bXMuc3RhdGUuc2hvd25Db2xsZWN0aW9uSWQgPT0gY29sbGVjdGlvbi5pZCkgewogICAgICAgICAgICAgICAgYWxidW1zLnN0YXRlLnNob3duQWxidW1zID0gYWxidW1zLnN0YXRlLmFsYnVtcy5maWx0ZXIoZnVuY3Rpb24gKGFsYnVtKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBjb2xsZWN0aW9uLmFsYnVtSWRzLmluY2x1ZGVzKGFsYnVtLmlkKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKSgpOwogIH0sCiAgYWRkQ29sbGVjdGlvbjogZnVuY3Rpb24gYWRkQ29sbGVjdGlvbihfcmVmMywgbmFtZSkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgIHZhciBjb21taXQsIG5ld0NvbGxlY3Rpb24sIHJlczsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgICAgICAgICAgbmV3Q29sbGVjdGlvbiA9IHsKICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgICAgICAgICBhbGJ1bUlkczogW10KICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdChsb2NhbENvbGxlY3Rpb25zVVJMLCBuZXdDb2xsZWN0aW9uKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICBjb21taXQoJ25ld0NvbGxlY3Rpb24nLCByZXMuZGF0YSk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMyk7CiAgICB9KSkoKTsKICB9Cn07CnZhciBtdXRhdGlvbnMgPSB7CiAgc2V0Q29sbGVjdGlvbnM6IGZ1bmN0aW9uIHNldENvbGxlY3Rpb25zKHN0YXRlLCBjb2xsZWN0aW9ucykgewogICAgcmV0dXJuIHN0YXRlLmNvbGxlY3Rpb25zID0gY29sbGVjdGlvbnM7CiAgfSwKICBuZXdDb2xsZWN0aW9uOiBmdW5jdGlvbiBuZXdDb2xsZWN0aW9uKHN0YXRlLCBjb2xsZWN0aW9uKSB7CiAgICByZXR1cm4gc3RhdGUuY29sbGVjdGlvbnMudW5zaGlmdChjb2xsZWN0aW9uKTsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogc3RhdGUsCiAgZ2V0dGVyczogZ2V0dGVycywKICBhY3Rpb25zOiBhY3Rpb25zLAogIG11dGF0aW9uczogbXV0YXRpb25zCn07"},{"version":3,"sources":["/home/seba/Desktop/tareas-avanzado/tarea5/src/store/modules/collections.js"],"names":["axios","albums","localCollectionsURL","state","collections","getters","allCollections","actions","fetchCollections","commit","get","response","data","addAlbumToCollection","_","event","album","collection","target","checked","albumIds","push","id","filter","patch","shownCollectionId","shownAlbums","includes","addCollection","name","newCollection","post","res","mutations","setCollections","unshift"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport albums from './albums';\n\nconst localCollectionsURL = \"http://localhost:3000/playlists\";\n\nconst state = {\n    collections: [],\n};\n\nconst getters = {\n    allCollections: state => state.collections,\n    \n};\n  \nconst actions = {\n    async fetchCollections({ commit }) {\n        const response = await axios.get(localCollectionsURL);\n        commit('setCollections', response.data);\n    },\n    async addAlbumToCollection( _, { event, album, collection }) {\n        if (event.target.checked) {\n            collection.albumIds.push(album.id)\n        }\n        else {\n            collection.albumIds = collection.albumIds.filter(id => id != album.id);\n            \n        }\n        await axios.patch(localCollectionsURL + '/' + collection.id, {\n            albumIds: collection.albumIds,\n        });\n        if (albums.state.shownCollectionId == collection.id) {\n            albums.state.shownAlbums = albums.state.albums\n                .filter(album => collection.albumIds.includes(album.id));\n        } \n    },\n    async addCollection( { commit }, name ) {\n        const newCollection = {\n            name: name,\n            albumIds: [],\n          }\n        const res = await axios.post(localCollectionsURL, newCollection);\n        commit('newCollection', res.data);\n    }\n    \n};\n\nconst mutations = {\n    setCollections: (state, collections) => (state.collections = collections),\n    newCollection: (state, collection) => state.collections.unshift(collection),\n};\n\n\n\nexport default {\n    state,\n    getters,\n    actions,\n    mutations\n};"]}]}