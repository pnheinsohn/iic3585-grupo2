{"remainingRequest":"/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/babel-loader/lib/index.js!/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/eslint-loader/index.js??ref--13-0!/home/seba/Desktop/tareas-avanzado/tarea5/src/store/modules/collections.js","dependencies":[{"path":"/home/seba/Desktop/tareas-avanzado/tarea5/src/store/modules/collections.js","mtime":1591594466938},{"path":"/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvc2ViYS9EZXNrdG9wL3RhcmVhcy1hdmFuemFkby90YXJlYTUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwp2YXIgbG9jYWxDb2xsZWN0aW9uc1VSTCA9ICJodHRwOi8vbG9jYWxob3N0OjMwMDAvcGxheWxpc3RzIjsKLyogY29uc3QgbG9jYWxBbGJ1bXNVUkwgPSAiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FsYnVtcyI7ICovCgp2YXIgc3RhdGUgPSB7CiAgY29sbGVjdGlvbnM6IFtdCn07CnZhciBnZXR0ZXJzID0gewogIGFsbENvbGxlY3Rpb25zOiBmdW5jdGlvbiBhbGxDb2xsZWN0aW9ucyhzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLmNvbGxlY3Rpb25zOwogIH0KfTsKdmFyIGFjdGlvbnMgPSB7CiAgZmV0Y2hDb2xsZWN0aW9uczogZnVuY3Rpb24gZmV0Y2hDb2xsZWN0aW9ucyhfcmVmKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgY29tbWl0LCByZXNwb25zZTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQobG9jYWxDb2xsZWN0aW9uc1VSTCk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGNvbW1pdCgnc2V0Q29sbGVjdGlvbnMnLCByZXNwb25zZS5kYXRhKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGFkZEFsYnVtVG9Db2xsZWN0aW9uOiBmdW5jdGlvbiBhZGRBbGJ1bVRvQ29sbGVjdGlvbihfLCBfcmVmMikgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHZhciBldmVudCwgYWxidW0sIGNvbGxlY3Rpb247CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgZXZlbnQgPSBfcmVmMi5ldmVudCwgYWxidW0gPSBfcmVmMi5hbGJ1bSwgY29sbGVjdGlvbiA9IF9yZWYyLmNvbGxlY3Rpb247CgogICAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQuY2hlY2tlZCkgewogICAgICAgICAgICAgICAgY29sbGVjdGlvbi5hbGJ1bUlkcy5wdXNoKGFsYnVtLmlkKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY29sbGVjdGlvbi5hbGJ1bUlkcyA9IGNvbGxlY3Rpb24uYWxidW1JZHMuZmlsdGVyKGZ1bmN0aW9uIChpZCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gaWQgIT0gYWxidW0uaWQ7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucGF0Y2gobG9jYWxDb2xsZWN0aW9uc1VSTCArICcvJyArIGNvbGxlY3Rpb24uaWQsIHsKICAgICAgICAgICAgICAgIGFsYnVtSWRzOiBjb2xsZWN0aW9uLmFsYnVtSWRzCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSkoKTsKICB9Cn07CnZhciBtdXRhdGlvbnMgPSB7CiAgc2V0Q29sbGVjdGlvbnM6IGZ1bmN0aW9uIHNldENvbGxlY3Rpb25zKHN0YXRlLCBjb2xsZWN0aW9ucykgewogICAgcmV0dXJuIHN0YXRlLmNvbGxlY3Rpb25zID0gY29sbGVjdGlvbnM7CiAgfSwKICBuZXdDb2xsZWN0aW9uOiBmdW5jdGlvbiBuZXdDb2xsZWN0aW9uKHN0YXRlLCBjb2xsZWN0aW9uKSB7CiAgICByZXR1cm4gc3RhdGUuY29sbGVjdGlvbnMudW5zaGlmdChjb2xsZWN0aW9uKTsKICB9LAogIHNldENvbGxlY3Rpb25zQWxidW1zOiBmdW5jdGlvbiBzZXRDb2xsZWN0aW9uc0FsYnVtcyhzdGF0ZSwgY29sbGVjdGlvbikgewogICAgY29uc29sZS5sb2coc3RhdGUpOwogICAgY29uc29sZS5sb2coY29sbGVjdGlvbik7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHN0YXRlLAogIGdldHRlcnM6IGdldHRlcnMsCiAgYWN0aW9uczogYWN0aW9ucywKICBtdXRhdGlvbnM6IG11dGF0aW9ucwp9Ow=="},{"version":3,"sources":["/home/seba/Desktop/tareas-avanzado/tarea5/src/store/modules/collections.js"],"names":["axios","localCollectionsURL","state","collections","getters","allCollections","actions","fetchCollections","commit","get","response","data","addAlbumToCollection","_","event","album","collection","target","checked","albumIds","push","id","filter","patch","mutations","setCollections","newCollection","unshift","setCollectionsAlbums","console","log"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,mBAAmB,GAAG,iCAA5B;AACA;;AAEA,IAAMC,KAAK,GAAG;AACVC,EAAAA,WAAW,EAAE;AADH,CAAd;AAIA,IAAMC,OAAO,GAAG;AACZC,EAAAA,cAAc,EAAE,wBAAAH,KAAK;AAAA,WAAIA,KAAK,CAACC,WAAV;AAAA;AADT,CAAhB;AAKA,IAAMG,OAAO,GAAG;AACNC,EAAAA,gBADM,kCACuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAVC,cAAAA,MAAU,QAAVA,MAAU;AAAA;AAAA,qBACRR,KAAK,CAACS,GAAN,CAAUR,mBAAV,CADQ;;AAAA;AACzBS,cAAAA,QADyB;AAE/BF,cAAAA,MAAM,CAAC,gBAAD,EAAmBE,QAAQ,CAACC,IAA5B,CAAN;;AAF+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGlC,GAJW;AAKNC,EAAAA,oBALM,gCAKgBC,CALhB,SAKiD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA5BC,cAAAA,KAA4B,SAA5BA,KAA4B,EAArBC,KAAqB,SAArBA,KAAqB,EAAdC,UAAc,SAAdA,UAAc;;AACzD,kBAAIF,KAAK,CAACG,MAAN,CAAaC,OAAjB,EAA0B;AACtBF,gBAAAA,UAAU,CAACG,QAAX,CAAoBC,IAApB,CAAyBL,KAAK,CAACM,EAA/B;AACH,eAFD,MAGK;AACDL,gBAAAA,UAAU,CAACG,QAAX,GAAsBH,UAAU,CAACG,QAAX,CAAoBG,MAApB,CAA2B,UAAAD,EAAE;AAAA,yBAAIA,EAAE,IAAIN,KAAK,CAACM,EAAhB;AAAA,iBAA7B,CAAtB;AACH;;AANwD;AAAA,qBAOnDrB,KAAK,CAACuB,KAAN,CAAYtB,mBAAmB,GAAG,GAAtB,GAA4Be,UAAU,CAACK,EAAnD,EAAuD;AACzDF,gBAAAA,QAAQ,EAAEH,UAAU,CAACG;AADoC,eAAvD,CAPmD;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAU5D;AAfW,CAAhB;AAmBA,IAAMK,SAAS,GAAG;AACdC,EAAAA,cAAc,EAAE,wBAACvB,KAAD,EAAQC,WAAR;AAAA,WAAyBD,KAAK,CAACC,WAAN,GAAoBA,WAA7C;AAAA,GADF;AAEduB,EAAAA,aAAa,EAAE,uBAACxB,KAAD,EAAQc,UAAR;AAAA,WAAuBd,KAAK,CAACC,WAAN,CAAkBwB,OAAlB,CAA0BX,UAA1B,CAAvB;AAAA,GAFD;AAGdY,EAAAA,oBAAoB,EAAE,8BAAC1B,KAAD,EAAQc,UAAR,EAAuB;AACzCa,IAAAA,OAAO,CAACC,GAAR,CAAY5B,KAAZ;AACA2B,IAAAA,OAAO,CAACC,GAAR,CAAYd,UAAZ;AACH;AANa,CAAlB;AAWA,eAAe;AACXd,EAAAA,KAAK,EAALA,KADW;AAEXE,EAAAA,OAAO,EAAPA,OAFW;AAGXE,EAAAA,OAAO,EAAPA,OAHW;AAIXkB,EAAAA,SAAS,EAATA;AAJW,CAAf","sourcesContent":["import axios from 'axios';\n\nconst localCollectionsURL = \"http://localhost:3000/playlists\";\n/* const localAlbumsURL = \"http://localhost:3000/albums\"; */\n\nconst state = {\n    collections: [],\n};\n\nconst getters = {\n    allCollections: state => state.collections,\n    \n};\n  \nconst actions = {\n    async fetchCollections({ commit }) {\n        const response = await axios.get(localCollectionsURL);\n        commit('setCollections', response.data);\n    },\n    async addAlbumToCollection( _, { event, album, collection }) {\n        if (event.target.checked) {\n            collection.albumIds.push(album.id)\n        }\n        else {\n            collection.albumIds = collection.albumIds.filter(id => id != album.id);\n        }\n        await axios.patch(localCollectionsURL + '/' + collection.id, {\n            albumIds: collection.albumIds,\n        });\n    },\n    \n};\n\nconst mutations = {\n    setCollections: (state, collections) => (state.collections = collections),\n    newCollection: (state, collection) => state.collections.unshift(collection),\n    setCollectionsAlbums: (state, collection) => {\n        console.log(state)\n        console.log(collection)\n    }\n};\n\n\n\nexport default {\n    state,\n    getters,\n    actions,\n    mutations\n};"]}]}