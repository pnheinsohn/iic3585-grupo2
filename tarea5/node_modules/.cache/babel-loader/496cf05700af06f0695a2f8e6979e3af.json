{"remainingRequest":"/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/babel-loader/lib/index.js!/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/eslint-loader/index.js??ref--13-0!/home/seba/Desktop/tareas-avanzado/tarea5/src/store/modules/collections.js","dependencies":[{"path":"/home/seba/Desktop/tareas-avanzado/tarea5/src/store/modules/collections.js","mtime":1591633564815},{"path":"/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9zZWJhL0Rlc2t0b3AvdGFyZWFzLWF2YW56YWRvL3RhcmVhNS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBhbGJ1bXMgZnJvbSAnLi9hbGJ1bXMnOwp2YXIgbG9jYWxDb2xsZWN0aW9uc1VSTCA9ICJodHRwOi8vbG9jYWxob3N0OjMwMDAvY29sbGVjdGlvbnMiOwp2YXIgc3RhdGUgPSB7CiAgY29sbGVjdGlvbnM6IFtdCn07CnZhciBnZXR0ZXJzID0gewogIGFsbENvbGxlY3Rpb25zOiBmdW5jdGlvbiBhbGxDb2xsZWN0aW9ucyhzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLmNvbGxlY3Rpb25zOwogIH0KfTsKdmFyIGFjdGlvbnMgPSB7CiAgZmV0Y2hDb2xsZWN0aW9uczogZnVuY3Rpb24gZmV0Y2hDb2xsZWN0aW9ucyhfcmVmKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgY29tbWl0LCByZXNwb25zZTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQobG9jYWxDb2xsZWN0aW9uc1VSTCk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGNvbW1pdCgnc2V0Q29sbGVjdGlvbnMnLCByZXNwb25zZS5kYXRhKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGFkZEFsYnVtVG9Db2xsZWN0aW9uOiBmdW5jdGlvbiBhZGRBbGJ1bVRvQ29sbGVjdGlvbihfLCBfcmVmMikgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHZhciBldmVudCwgYWxidW0sIGNvbGxlY3Rpb247CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgZXZlbnQgPSBfcmVmMi5ldmVudCwgYWxidW0gPSBfcmVmMi5hbGJ1bSwgY29sbGVjdGlvbiA9IF9yZWYyLmNvbGxlY3Rpb247CgogICAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQuY2hlY2tlZCkgewogICAgICAgICAgICAgICAgY29sbGVjdGlvbi5hbGJ1bUlkcy5wdXNoKGFsYnVtLmlkKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY29sbGVjdGlvbi5hbGJ1bUlkcyA9IGNvbGxlY3Rpb24uYWxidW1JZHMuZmlsdGVyKGZ1bmN0aW9uIChpZCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gaWQgIT0gYWxidW0uaWQ7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucGF0Y2gobG9jYWxDb2xsZWN0aW9uc1VSTCArICcvJyArIGNvbGxlY3Rpb24uaWQsIHsKICAgICAgICAgICAgICAgIGFsYnVtSWRzOiBjb2xsZWN0aW9uLmFsYnVtSWRzCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgaWYgKGFsYnVtcy5zdGF0ZS5zaG93bkNvbGxlY3Rpb25JZCA9PSBjb2xsZWN0aW9uLmlkKSB7CiAgICAgICAgICAgICAgICBhbGJ1bXMuc3RhdGUuc2hvd25BbGJ1bXMgPSBhbGJ1bXMuc3RhdGUuYWxidW1zLmZpbHRlcihmdW5jdGlvbiAoYWxidW0pIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb24uYWxidW1JZHMuaW5jbHVkZXMoYWxidW0uaWQpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpKCk7CiAgfSwKICBhZGRDb2xsZWN0aW9uOiBmdW5jdGlvbiBhZGRDb2xsZWN0aW9uKF9yZWYzLCBuYW1lKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgdmFyIGNvbW1pdCwgbmV3Q29sbGVjdGlvbiwgcmVzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgICAgICAgICBuZXdDb2xsZWN0aW9uID0gewogICAgICAgICAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICAgICAgICAgIGFsYnVtSWRzOiBbXQogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KGxvY2FsQ29sbGVjdGlvbnNVUkwsIG5ld0NvbGxlY3Rpb24pOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgIGNvbW1pdCgnbmV3Q29sbGVjdGlvbicsIHJlcy5kYXRhKTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzKTsKICAgIH0pKSgpOwogIH0KfTsKdmFyIG11dGF0aW9ucyA9IHsKICBzZXRDb2xsZWN0aW9uczogZnVuY3Rpb24gc2V0Q29sbGVjdGlvbnMoc3RhdGUsIGNvbGxlY3Rpb25zKSB7CiAgICByZXR1cm4gc3RhdGUuY29sbGVjdGlvbnMgPSBjb2xsZWN0aW9uczsKICB9LAogIG5ld0NvbGxlY3Rpb246IGZ1bmN0aW9uIG5ld0NvbGxlY3Rpb24oc3RhdGUsIGNvbGxlY3Rpb24pIHsKICAgIHJldHVybiBzdGF0ZS5jb2xsZWN0aW9ucy51bnNoaWZ0KGNvbGxlY3Rpb24pOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiBzdGF0ZSwKICBnZXR0ZXJzOiBnZXR0ZXJzLAogIGFjdGlvbnM6IGFjdGlvbnMsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMKfTs="},{"version":3,"sources":["/home/seba/Desktop/tareas-avanzado/tarea5/src/store/modules/collections.js"],"names":["axios","albums","localCollectionsURL","state","collections","getters","allCollections","actions","fetchCollections","commit","get","response","data","addAlbumToCollection","_","event","album","collection","target","checked","albumIds","push","id","filter","patch","shownCollectionId","shownAlbums","includes","addCollection","name","newCollection","post","res","mutations","setCollections","unshift"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport albums from './albums';\n\nconst localCollectionsURL = \"http://localhost:3000/collections\";\n\nconst state = {\n    collections: [],\n};\n\nconst getters = {\n    allCollections: state => state.collections,\n    \n};\n  \nconst actions = {\n    async fetchCollections({ commit }) {\n        const response = await axios.get(localCollectionsURL);\n        commit('setCollections', response.data);\n    },\n    async addAlbumToCollection( _, { event, album, collection }) {\n        if (event.target.checked) {\n            collection.albumIds.push(album.id)\n        }\n        else {\n            collection.albumIds = collection.albumIds.filter(id => id != album.id);\n            \n        }\n        await axios.patch(localCollectionsURL + '/' + collection.id, {\n            albumIds: collection.albumIds,\n        });\n        if (albums.state.shownCollectionId == collection.id) {\n            albums.state.shownAlbums = albums.state.albums\n                .filter(album => collection.albumIds.includes(album.id));\n        } \n    },\n    async addCollection( { commit }, name ) {\n        const newCollection = {\n            name: name,\n            albumIds: [],\n        }\n        const res = await axios.post(localCollectionsURL, newCollection);\n        commit('newCollection', res.data);\n    }\n    \n};\n\nconst mutations = {\n    setCollections: (state, collections) => (state.collections = collections),\n    newCollection: (state, collection) => state.collections.unshift(collection),\n};\n\n\n\nexport default {\n    state,\n    getters,\n    actions,\n    mutations\n};"]}]}