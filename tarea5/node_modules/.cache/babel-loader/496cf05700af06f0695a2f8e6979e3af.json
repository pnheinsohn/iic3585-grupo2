{"remainingRequest":"/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/babel-loader/lib/index.js!/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/eslint-loader/index.js??ref--13-0!/home/seba/Desktop/tareas-avanzado/tarea5/src/store/modules/collections.js","dependencies":[{"path":"/home/seba/Desktop/tareas-avanzado/tarea5/src/store/modules/collections.js","mtime":1591601782659},{"path":"/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvc2ViYS9EZXNrdG9wL3RhcmVhcy1hdmFuemFkby90YXJlYTUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwp2YXIgbG9jYWxDb2xsZWN0aW9uc1VSTCA9ICJodHRwOi8vbG9jYWxob3N0OjMwMDAvcGxheWxpc3RzIjsKdmFyIHN0YXRlID0gewogIGNvbGxlY3Rpb25zOiBbXQp9Owp2YXIgZ2V0dGVycyA9IHsKICBhbGxDb2xsZWN0aW9uczogZnVuY3Rpb24gYWxsQ29sbGVjdGlvbnMoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5jb2xsZWN0aW9uczsKICB9Cn07CnZhciBhY3Rpb25zID0gewogIGZldGNoQ29sbGVjdGlvbnM6IGZ1bmN0aW9uIGZldGNoQ29sbGVjdGlvbnMoX3JlZikgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGNvbW1pdCwgcmVzcG9uc2U7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KGxvY2FsQ29sbGVjdGlvbnNVUkwpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBjb21taXQoJ3NldENvbGxlY3Rpb25zJywgcmVzcG9uc2UuZGF0YSk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBhZGRBbGJ1bVRvQ29sbGVjdGlvbjogZnVuY3Rpb24gYWRkQWxidW1Ub0NvbGxlY3Rpb24oXywgX3JlZjIpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgZXZlbnQsIGFsYnVtLCBjb2xsZWN0aW9uOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGV2ZW50ID0gX3JlZjIuZXZlbnQsIGFsYnVtID0gX3JlZjIuYWxidW0sIGNvbGxlY3Rpb24gPSBfcmVmMi5jb2xsZWN0aW9uOwoKICAgICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LmNoZWNrZWQpIHsKICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24uYWxidW1JZHMucHVzaChhbGJ1bS5pZCk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24uYWxidW1JZHMgPSBjb2xsZWN0aW9uLmFsYnVtSWRzLmZpbHRlcihmdW5jdGlvbiAoaWQpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGlkICE9IGFsYnVtLmlkOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBhdGNoKGxvY2FsQ29sbGVjdGlvbnNVUkwgKyAnLycgKyBjb2xsZWN0aW9uLmlkLCB7CiAgICAgICAgICAgICAgICBhbGJ1bUlkczogY29sbGVjdGlvbi5hbGJ1bUlkcwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpKCk7CiAgfQp9Owp2YXIgbXV0YXRpb25zID0gewogIHNldENvbGxlY3Rpb25zOiBmdW5jdGlvbiBzZXRDb2xsZWN0aW9ucyhzdGF0ZSwgY29sbGVjdGlvbnMpIHsKICAgIHJldHVybiBzdGF0ZS5jb2xsZWN0aW9ucyA9IGNvbGxlY3Rpb25zOwogIH0sCiAgbmV3Q29sbGVjdGlvbjogZnVuY3Rpb24gbmV3Q29sbGVjdGlvbihzdGF0ZSwgY29sbGVjdGlvbikgewogICAgcmV0dXJuIHN0YXRlLmNvbGxlY3Rpb25zLnVuc2hpZnQoY29sbGVjdGlvbik7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHN0YXRlLAogIGdldHRlcnM6IGdldHRlcnMsCiAgYWN0aW9uczogYWN0aW9ucywKICBtdXRhdGlvbnM6IG11dGF0aW9ucwp9Ow=="},{"version":3,"sources":["/home/seba/Desktop/tareas-avanzado/tarea5/src/store/modules/collections.js"],"names":["axios","localCollectionsURL","state","collections","getters","allCollections","actions","fetchCollections","commit","get","response","data","addAlbumToCollection","_","event","album","collection","target","checked","albumIds","push","id","filter","patch","mutations","setCollections","newCollection","unshift"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,mBAAmB,GAAG,iCAA5B;AAEA,IAAMC,KAAK,GAAG;AACVC,EAAAA,WAAW,EAAE;AADH,CAAd;AAIA,IAAMC,OAAO,GAAG;AACZC,EAAAA,cAAc,EAAE,wBAAAH,KAAK;AAAA,WAAIA,KAAK,CAACC,WAAV;AAAA;AADT,CAAhB;AAKA,IAAMG,OAAO,GAAG;AACNC,EAAAA,gBADM,kCACuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAVC,cAAAA,MAAU,QAAVA,MAAU;AAAA;AAAA,qBACRR,KAAK,CAACS,GAAN,CAAUR,mBAAV,CADQ;;AAAA;AACzBS,cAAAA,QADyB;AAE/BF,cAAAA,MAAM,CAAC,gBAAD,EAAmBE,QAAQ,CAACC,IAA5B,CAAN;;AAF+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGlC,GAJW;AAKNC,EAAAA,oBALM,gCAKgBC,CALhB,SAKiD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA5BC,cAAAA,KAA4B,SAA5BA,KAA4B,EAArBC,KAAqB,SAArBA,KAAqB,EAAdC,UAAc,SAAdA,UAAc;;AACzD,kBAAIF,KAAK,CAACG,MAAN,CAAaC,OAAjB,EAA0B;AACtBF,gBAAAA,UAAU,CAACG,QAAX,CAAoBC,IAApB,CAAyBL,KAAK,CAACM,EAA/B;AACH,eAFD,MAGK;AACDL,gBAAAA,UAAU,CAACG,QAAX,GAAsBH,UAAU,CAACG,QAAX,CAAoBG,MAApB,CAA2B,UAAAD,EAAE;AAAA,yBAAIA,EAAE,IAAIN,KAAK,CAACM,EAAhB;AAAA,iBAA7B,CAAtB;AACH;;AANwD;AAAA,qBAOnDrB,KAAK,CAACuB,KAAN,CAAYtB,mBAAmB,GAAG,GAAtB,GAA4Be,UAAU,CAACK,EAAnD,EAAuD;AACzDF,gBAAAA,QAAQ,EAAEH,UAAU,CAACG;AADoC,eAAvD,CAPmD;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAU5D;AAfW,CAAhB;AAmBA,IAAMK,SAAS,GAAG;AACdC,EAAAA,cAAc,EAAE,wBAACvB,KAAD,EAAQC,WAAR;AAAA,WAAyBD,KAAK,CAACC,WAAN,GAAoBA,WAA7C;AAAA,GADF;AAEduB,EAAAA,aAAa,EAAE,uBAACxB,KAAD,EAAQc,UAAR;AAAA,WAAuBd,KAAK,CAACC,WAAN,CAAkBwB,OAAlB,CAA0BX,UAA1B,CAAvB;AAAA;AAFD,CAAlB;AAOA,eAAe;AACXd,EAAAA,KAAK,EAALA,KADW;AAEXE,EAAAA,OAAO,EAAPA,OAFW;AAGXE,EAAAA,OAAO,EAAPA,OAHW;AAIXkB,EAAAA,SAAS,EAATA;AAJW,CAAf","sourcesContent":["import axios from 'axios';\n\nconst localCollectionsURL = \"http://localhost:3000/playlists\";\n\nconst state = {\n    collections: [],\n};\n\nconst getters = {\n    allCollections: state => state.collections,\n    \n};\n  \nconst actions = {\n    async fetchCollections({ commit }) {\n        const response = await axios.get(localCollectionsURL);\n        commit('setCollections', response.data);\n    },\n    async addAlbumToCollection( _, { event, album, collection }) {\n        if (event.target.checked) {\n            collection.albumIds.push(album.id)\n        }\n        else {\n            collection.albumIds = collection.albumIds.filter(id => id != album.id);\n        }\n        await axios.patch(localCollectionsURL + '/' + collection.id, {\n            albumIds: collection.albumIds,\n        });\n    },\n    \n};\n\nconst mutations = {\n    setCollections: (state, collections) => (state.collections = collections),\n    newCollection: (state, collection) => state.collections.unshift(collection),\n};\n\n\n\nexport default {\n    state,\n    getters,\n    actions,\n    mutations\n};"]}]}