{"remainingRequest":"/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/babel-loader/lib/index.js!/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/eslint-loader/index.js??ref--13-0!/home/seba/Desktop/tareas-avanzado/tarea5/src/store/modules/albums.js","dependencies":[{"path":"/home/seba/Desktop/tareas-avanzado/tarea5/src/store/modules/albums.js","mtime":1591610462921},{"path":"/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvaG9tZS9zZWJhL0Rlc2t0b3AvdGFyZWFzLWF2YW56YWRvL3RhcmVhNS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9zZWJhL0Rlc2t0b3AvdGFyZWFzLWF2YW56YWRvL3RhcmVhNS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBjb2xsZWN0aW9ucyBmcm9tICcuL2NvbGxlY3Rpb25zJzsKdmFyIGxvY2FsTWFpblVSTCA9ICJodHRwOi8vbG9jYWxob3N0OjMwMDAvYWxidW1zIjsKdmFyIGxvY2FsQ29sbGVjdGlvbnNVUkwgPSAiaHR0cDovL2xvY2FsaG9zdDozMDAwL3BsYXlsaXN0cyI7CnZhciBzdGF0ZSA9IHsKICBhbGJ1bXM6IFtdLAogIHNob3duQWxidW1zOiBbXSwKICBzaG93bkNvbGxlY3Rpb25JZDogMAp9Owp2YXIgZ2V0dGVycyA9IHsKICBhbGxBbGJ1bXM6IGZ1bmN0aW9uIGFsbEFsYnVtcyhzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLmFsYnVtczsKICB9LAogIHNob3duQWxidW1zOiBmdW5jdGlvbiBzaG93bkFsYnVtcyhzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnNob3duQWxidW1zOwogIH0sCiAgc2hvd25Db2xsZWN0aW9uSWQ6IGZ1bmN0aW9uIHNob3duQ29sbGVjdGlvbklkKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuc2hvd25Db2xsZWN0aW9uSWQ7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICBmZXRjaEFsYnVtczogZnVuY3Rpb24gZmV0Y2hBbGJ1bXMoX3JlZikgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGNvbW1pdCwgcmVzcG9uc2U7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KGxvY2FsTWFpblVSTCk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGNvbW1pdCgnc2V0QWxidW1zJywgcmVzcG9uc2UuZGF0YSk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBjaGFuZ2VTaG93bkFsYnVtczogZnVuY3Rpb24gY2hhbmdlU2hvd25BbGJ1bXMoX3JlZjIsIGNvbGxlY3Rpb25JZCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHZhciBjb21taXQsIGNvbGxlY3Rpb24sIGFsYnVtczsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICAgICAgICAgICAgY29sbGVjdGlvbiA9IGNvbGxlY3Rpb25zLnN0YXRlLmNvbGxlY3Rpb25zLmZpbHRlcihmdW5jdGlvbiAoY29sbGVjdGlvbikgewogICAgICAgICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb24uaWQgPT0gY29sbGVjdGlvbklkOwogICAgICAgICAgICAgIH0pWzBdOwogICAgICAgICAgICAgIGFsYnVtcyA9IHN0YXRlLmFsYnVtcy5maWx0ZXIoZnVuY3Rpb24gKGFsYnVtKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY29sbGVjdGlvbi5hbGJ1bUlkcy5pbmNsdWRlcyhhbGJ1bS5pZCk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgY29tbWl0KCdzZXRTaG93bkFsYnVtcycsIGFsYnVtcyk7CiAgICAgICAgICAgICAgY29tbWl0KCdzZXRTaG93bkNvbGxlY3Rpb25JZCcsIGNvbGxlY3Rpb25JZCk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSkoKTsKICB9LAogIGFkZEFsYnVtOiBmdW5jdGlvbiBhZGRBbGJ1bShfcmVmMywgYWxidW1EYXRhKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgdmFyIGNvbW1pdCwgZ2V0UmVzLCBuZXdBbGJ1bSwgcmVzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldChsb2NhbE1haW5VUkwsIHsKICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICBtYmlkOiBhbGJ1bURhdGEubWJpZAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGdldFJlcyA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgICBpZiAoIWdldFJlcy5kYXRhLmxlbmd0aCkgewogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA4OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjb25zb2xlLmxvZygiw4FsYnVtIHlhIGV4aXN0ZSIpOwogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgbmV3QWxidW0gPSB7CiAgICAgICAgICAgICAgICBtYmlkOiBhbGJ1bURhdGEubWJpZCwKICAgICAgICAgICAgICAgIG5hbWU6IGFsYnVtRGF0YS5uYW1lLAogICAgICAgICAgICAgICAgYXJ0aXN0OiBhbGJ1bURhdGEuYXJ0aXN0LAogICAgICAgICAgICAgICAgcmV2aWV3czogW10sCiAgICAgICAgICAgICAgICBzY29yZTogMCwKICAgICAgICAgICAgICAgIGltYWdlOiBhbGJ1bURhdGEuaW1hZ2VbMl1bJyN0ZXh0J10KICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QobG9jYWxNYWluVVJMLCBuZXdBbGJ1bSk7CgogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgIHJlcy5kYXRhLmNvbGxlY3Rpb25zID0gW107CiAgICAgICAgICAgICAgY29tbWl0KCduZXdBbGJ1bScsIHJlcy5kYXRhKTsKCiAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMyk7CiAgICB9KSkoKTsKICB9LAogIHJlbW92ZUFsYnVtOiBmdW5jdGlvbiByZW1vdmVBbGJ1bShfcmVmNCwgYWxidW1JZCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgIHZhciBjb21taXQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZGVsZXRlKGxvY2FsTWFpblVSTCArICcvJyArIGFsYnVtSWQpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNvbW1pdCgncmVtb3ZlQWxidW0nLCBhbGJ1bUlkKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU0KTsKICAgIH0pKSgpOwogIH0sCiAgcmVtb3ZlRnJvbUNvbGxlY3Rpb246IGZ1bmN0aW9uIHJlbW92ZUZyb21Db2xsZWN0aW9uKF9yZWY1LCBhbGJ1bUlkKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgdmFyIGNvbW1pdCwgY29sbGVjdGlvbiwgYWxidW07CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjUuY29tbWl0OwogICAgICAgICAgICAgIGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9ucy5zdGF0ZS5jb2xsZWN0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKGNvbGxlY3Rpb24pIHsKICAgICAgICAgICAgICAgIHJldHVybiBjb2xsZWN0aW9uLmlkID09IHN0YXRlLnNob3duQ29sbGVjdGlvbklkOwogICAgICAgICAgICAgIH0pWzBdOwogICAgICAgICAgICAgIGNvbGxlY3Rpb24uYWxidW1JZHMgPSBjb2xsZWN0aW9uLmFsYnVtSWRzLmZpbHRlcihmdW5jdGlvbiAoaWQpIHsKICAgICAgICAgICAgICAgIHJldHVybiBpZCAhPSBhbGJ1bUlkOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucGF0Y2gobG9jYWxDb2xsZWN0aW9uc1VSTCArICcvJyArIGNvbGxlY3Rpb24uaWQsIHsKICAgICAgICAgICAgICAgIGFsYnVtSWRzOiBjb2xsZWN0aW9uLmFsYnVtSWRzCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgYWxidW0gPSBzdGF0ZS5hbGJ1bXMuZmlsdGVyKGZ1bmN0aW9uIChhbGJ1bSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGFsYnVtLmlkID09IGFsYnVtSWQ7CiAgICAgICAgICAgICAgfSlbMF07CiAgICAgICAgICAgICAgYWxidW0uY29sbGVjdGlvbnMgPSBhbGJ1bS5jb2xsZWN0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKGlkKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gaWQgIT0gY29sbGVjdGlvbi5pZDsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBjb21taXQoJ3JlbW92ZUZyb21TaG93bkFsYnVtcycsIGFsYnVtSWQpOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTUpOwogICAgfSkpKCk7CiAgfQp9Owp2YXIgbXV0YXRpb25zID0gewogIHNldEFsYnVtczogZnVuY3Rpb24gc2V0QWxidW1zKHN0YXRlLCBhbGJ1bXMpIHsKICAgIGFsYnVtcy5mb3JFYWNoKGZ1bmN0aW9uIChhbGJ1bSkgewogICAgICBhbGJ1bS5jb2xsZWN0aW9ucyA9IFtdOwogICAgICBjb2xsZWN0aW9ucy5zdGF0ZS5jb2xsZWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChjb2xsZWN0aW9uKSB7CiAgICAgICAgaWYgKGNvbGxlY3Rpb24uYWxidW1JZHMuaW5jbHVkZXMoYWxidW0uaWQpKSB7CiAgICAgICAgICBhbGJ1bS5jb2xsZWN0aW9ucy5wdXNoKGNvbGxlY3Rpb24uaWQpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9KTsKICAgIHN0YXRlLmFsYnVtcyA9IGFsYnVtczsKICB9LAogIG5ld0FsYnVtOiBmdW5jdGlvbiBuZXdBbGJ1bShzdGF0ZSwgYWxidW0pIHsKICAgIHJldHVybiBzdGF0ZS5hbGJ1bXMgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHN0YXRlLmFsYnVtcyksIFthbGJ1bV0pOwogIH0sCiAgcmVtb3ZlQWxidW06IGZ1bmN0aW9uIHJlbW92ZUFsYnVtKHN0YXRlLCBpZCkgewogICAgcmV0dXJuIHN0YXRlLmFsYnVtcyA9IHN0YXRlLmFsYnVtcy5maWx0ZXIoZnVuY3Rpb24gKGFsYnVtKSB7CiAgICAgIHJldHVybiBhbGJ1bS5pZCAhPT0gaWQ7CiAgICB9KTsKICB9LAogIHNldFNob3duQWxidW1zOiBmdW5jdGlvbiBzZXRTaG93bkFsYnVtcyhzdGF0ZSwgYWxidW1zKSB7CiAgICBzdGF0ZS5zaG93bkFsYnVtcyA9IGFsYnVtczsKICB9LAogIHJlbW92ZUZyb21TaG93bkFsYnVtczogZnVuY3Rpb24gcmVtb3ZlRnJvbVNob3duQWxidW1zKHN0YXRlLCBhbGJ1bUlkKSB7CiAgICBzdGF0ZS5zaG93bkFsYnVtcyA9IHN0YXRlLnNob3duQWxidW1zLmZpbHRlcihmdW5jdGlvbiAoYWxidW0pIHsKICAgICAgcmV0dXJuIGFsYnVtLmlkICE9IGFsYnVtSWQ7CiAgICB9KTsKICB9LAogIHNldFNob3duQ29sbGVjdGlvbklkOiBmdW5jdGlvbiBzZXRTaG93bkNvbGxlY3Rpb25JZChzdGF0ZSwgY29sbGVjdGlvbklkKSB7CiAgICBzdGF0ZS5zaG93bkNvbGxlY3Rpb25JZCA9IGNvbGxlY3Rpb25JZDsKICB9LAogIHJlc2V0U2hvd25Db2xsZWN0aW9uSWQ6IGZ1bmN0aW9uIHJlc2V0U2hvd25Db2xsZWN0aW9uSWQoc3RhdGUpIHsKICAgIHN0YXRlLnNob3duQ29sbGVjdGlvbklkID0gMDsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogc3RhdGUsCiAgZ2V0dGVyczogZ2V0dGVycywKICBhY3Rpb25zOiBhY3Rpb25zLAogIG11dGF0aW9uczogbXV0YXRpb25zCn07"},{"version":3,"sources":["/home/seba/Desktop/tareas-avanzado/tarea5/src/store/modules/albums.js"],"names":["axios","collections","localMainURL","localCollectionsURL","state","albums","shownAlbums","shownCollectionId","getters","allAlbums","actions","fetchAlbums","commit","get","response","data","changeShownAlbums","collectionId","collection","filter","id","album","albumIds","includes","addAlbum","albumData","params","mbid","getRes","length","console","log","newAlbum","name","artist","reviews","score","image","post","res","removeAlbum","albumId","delete","removeFromCollection","patch","mutations","setAlbums","forEach","push","setShownAlbums","removeFromShownAlbums","setShownCollectionId","resetShownCollectionId"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport collections from './collections';\n\nconst localMainURL = \"http://localhost:3000/albums\";\nconst localCollectionsURL = \"http://localhost:3000/playlists\";\n\n\nconst state = {\n    albums: [],\n    shownAlbums: [],\n    shownCollectionId: 0,\n};\n\nconst getters = {\n    allAlbums: state => state.albums,\n    shownAlbums: state => state.shownAlbums,\n    shownCollectionId: state => state.shownCollectionId\n  };\n  \nconst actions = {\n    async fetchAlbums({ commit }) {\n        const response = await axios.get(localMainURL);\n        commit('setAlbums', response.data);\n    },\n    async changeShownAlbums({ commit }, collectionId) {\n      const collection = collections.state.collections\n        .filter(collection => collection.id == collectionId)[0];\n      const albums = state.albums\n        .filter(album => collection.albumIds.includes(album.id));\n      commit('setShownAlbums', albums);\n      commit('setShownCollectionId', collectionId);\n    },\n    async addAlbum({ commit }, albumData) {\n\n        const getRes = await axios.get(localMainURL, {\n          params: {\n            mbid: albumData.mbid,\n          }\n        });\n        if (getRes.data.length) {\n          console.log(\"Álbum ya existe\");\n        }\n        else {\n          const newAlbum = {\n            mbid: albumData.mbid,\n            name: albumData.name,\n            artist: albumData.artist,\n            reviews: [],\n            score: 0,\n            image: albumData.image[2]['#text'],\n          }\n          const res = await axios.post(localMainURL, newAlbum);\n          res.data.collections = []\n          commit('newAlbum', res.data);\n        }\n    },\n    async removeAlbum({ commit }, albumId) {\n        await axios.delete(localMainURL + '/' + albumId);\n        commit('removeAlbum', albumId);\n    },\n    async removeFromCollection({ commit }, albumId) {\n        const collection = collections.state.collections\n            .filter(collection => collection.id == state.shownCollectionId)[0];\n        collection.albumIds = collection.albumIds\n            .filter(id => id != albumId);\n        await axios.patch(localCollectionsURL + '/' + collection.id, {\n            albumIds: collection.albumIds,\n        });\n        const album = state.albums\n            .filter(album => album.id == albumId)[0];\n        album.collections = album.collections\n            .filter(id => id != collection.id);\n        commit('removeFromShownAlbums', albumId);\n    }\n    \n};\n\nconst mutations = {\n  setAlbums: (state, albums) => {\n    albums.forEach((album) => {\n      album.collections = []\n      collections.state.collections.forEach((collection) => {\n        if (collection.albumIds.includes(album.id)) {\n          album.collections.push(collection.id);\n        }\n      });\n    });\n    state.albums = albums;\n  },\n  newAlbum: (state, album) => state.albums = [...state.albums, album],\n  removeAlbum: (state, id) =>\n  (state.albums = state.albums.filter(album => album.id !== id)),\n  setShownAlbums: (state, albums) => {\n    state.shownAlbums = albums;\n  },\n  removeFromShownAlbums: (state, albumId) => {\n    state.shownAlbums = state.shownAlbums\n      .filter(album => album.id != albumId);\n  },\n  setShownCollectionId: (state, collectionId) => {\n    state.shownCollectionId = collectionId;\n  },\n  resetShownCollectionId: (state) => {\n    state.shownCollectionId = 0;\n  }\n\n};\n\n\nexport default {\n    state,\n    getters,\n    actions,\n    mutations\n};"]}]}