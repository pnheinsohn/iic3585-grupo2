{"remainingRequest":"/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/babel-loader/lib/index.js!/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/eslint-loader/index.js??ref--13-0!/home/seba/Desktop/tareas-avanzado/tarea5/src/store/modules/albums.js","dependencies":[{"path":"/home/seba/Desktop/tareas-avanzado/tarea5/src/store/modules/albums.js","mtime":1591890259555},{"path":"/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/cache-loader/dist/cjs.js","mtime":1591890258427},{"path":"/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/babel-loader/lib/index.js","mtime":1591890258391},{"path":"/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/eslint-loader/index.js","mtime":1591890258723}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvaG9tZS9zZWJhL0Rlc2t0b3AvdGFyZWFzLWF2YW56YWRvL3RhcmVhNS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9zZWJhL0Rlc2t0b3AvdGFyZWFzLWF2YW56YWRvL3RhcmVhNS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBjb2xsZWN0aW9ucyBmcm9tICcuL2NvbGxlY3Rpb25zJzsKdmFyIGxvY2FsTWFpblVSTCA9ICJodHRwOi8vbG9jYWxob3N0OjMwMDAvYWxidW1zIjsKdmFyIGxvY2FsQ29sbGVjdGlvbnNVUkwgPSAiaHR0cDovL2xvY2FsaG9zdDozMDAwL2NvbGxlY3Rpb25zIjsKdmFyIHN0YXRlID0gewogIGFsYnVtczogW10sCiAgc2hvd25BbGJ1bXM6IFtdLAogIHNob3duQ29sbGVjdGlvbklkOiAwCn07CnZhciBnZXR0ZXJzID0gewogIGFsbEFsYnVtczogZnVuY3Rpb24gYWxsQWxidW1zKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuYWxidW1zOwogIH0sCiAgc2hvd25BbGJ1bXM6IGZ1bmN0aW9uIHNob3duQWxidW1zKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuc2hvd25BbGJ1bXM7CiAgfSwKICBzaG93bkNvbGxlY3Rpb25JZDogZnVuY3Rpb24gc2hvd25Db2xsZWN0aW9uSWQoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5zaG93bkNvbGxlY3Rpb25JZDsKICB9Cn07CnZhciBhY3Rpb25zID0gewogIGZldGNoQWxidW1zOiBmdW5jdGlvbiBmZXRjaEFsYnVtcyhfcmVmKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgY29tbWl0LCByZXNwb25zZTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQobG9jYWxNYWluVVJMKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgY29tbWl0KCdzZXRBbGJ1bXMnLCByZXNwb25zZS5kYXRhKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGNoYW5nZVNob3duQWxidW1zOiBmdW5jdGlvbiBjaGFuZ2VTaG93bkFsYnVtcyhfcmVmMiwgY29sbGVjdGlvbklkKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgdmFyIGNvbW1pdCwgY29sbGVjdGlvbiwgYWxidW1zOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgICAgICAgICBjb2xsZWN0aW9uID0gY29sbGVjdGlvbnMuc3RhdGUuY29sbGVjdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChjb2xsZWN0aW9uKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY29sbGVjdGlvbi5pZCA9PSBjb2xsZWN0aW9uSWQ7CiAgICAgICAgICAgICAgfSlbMF07CiAgICAgICAgICAgICAgYWxidW1zID0gc3RhdGUuYWxidW1zLmZpbHRlcihmdW5jdGlvbiAoYWxidW0pIHsKICAgICAgICAgICAgICAgIHJldHVybiBjb2xsZWN0aW9uLmFsYnVtSWRzLmluY2x1ZGVzKGFsYnVtLmlkKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBjb21taXQoJ3NldFNob3duQWxidW1zJywgYWxidW1zKTsKICAgICAgICAgICAgICBjb21taXQoJ3NldFNob3duQ29sbGVjdGlvbklkJywgY29sbGVjdGlvbklkKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKSgpOwogIH0sCiAgYWRkQWxidW06IGZ1bmN0aW9uIGFkZEFsYnVtKF9yZWYzLCBhbGJ1bURhdGEpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICB2YXIgY29tbWl0LCBnZXRSZXMsIG5ld0FsYnVtLCByZXM7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KGxvY2FsTWFpblVSTCwgewogICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgIG1iaWQ6IGFsYnVtRGF0YS5tYmlkCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgZ2V0UmVzID0gX2NvbnRleHQzLnNlbnQ7CgogICAgICAgICAgICAgIGlmICghZ2V0UmVzLmRhdGEubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDg7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCLDgWxidW0geWEgZXhpc3RlIik7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxNDsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBuZXdBbGJ1bSA9IHsKICAgICAgICAgICAgICAgIG1iaWQ6IGFsYnVtRGF0YS5tYmlkLAogICAgICAgICAgICAgICAgbmFtZTogYWxidW1EYXRhLm5hbWUsCiAgICAgICAgICAgICAgICBhcnRpc3Q6IGFsYnVtRGF0YS5hcnRpc3QsCiAgICAgICAgICAgICAgICByZXZpZXdzOiBbXSwKICAgICAgICAgICAgICAgIHNjb3JlOiAwLAogICAgICAgICAgICAgICAgaW1hZ2U6IGFsYnVtRGF0YS5pbWFnZVsyXVsnI3RleHQnXQogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMTsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdChsb2NhbE1haW5VUkwsIG5ld0FsYnVtKTsKCiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgcmVzLmRhdGEuY29sbGVjdGlvbnMgPSBbXTsKICAgICAgICAgICAgICBjb21taXQoJ25ld0FsYnVtJywgcmVzLmRhdGEpOwoKICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzKTsKICAgIH0pKSgpOwogIH0sCiAgcmVtb3ZlQWxidW06IGZ1bmN0aW9uIHJlbW92ZUFsYnVtKF9yZWY0LCBhbGJ1bUlkKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgdmFyIGNvbW1pdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmNC5jb21taXQ7CiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5kZWxldGUobG9jYWxNYWluVVJMICsgJy8nICsgYWxidW1JZCk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY29tbWl0KCdyZW1vdmVBbGJ1bScsIGFsYnVtSWQpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTQpOwogICAgfSkpKCk7CiAgfSwKICByZW1vdmVGcm9tQ29sbGVjdGlvbjogZnVuY3Rpb24gcmVtb3ZlRnJvbUNvbGxlY3Rpb24oX3JlZjUsIGFsYnVtSWQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICB2YXIgY29tbWl0LCBjb2xsZWN0aW9uLCBhbGJ1bTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmNS5jb21taXQ7CiAgICAgICAgICAgICAgY29sbGVjdGlvbiA9IGNvbGxlY3Rpb25zLnN0YXRlLmNvbGxlY3Rpb25zLmZpbHRlcihmdW5jdGlvbiAoY29sbGVjdGlvbikgewogICAgICAgICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb24uaWQgPT0gc3RhdGUuc2hvd25Db2xsZWN0aW9uSWQ7CiAgICAgICAgICAgICAgfSlbMF07CiAgICAgICAgICAgICAgY29sbGVjdGlvbi5hbGJ1bUlkcyA9IGNvbGxlY3Rpb24uYWxidW1JZHMuZmlsdGVyKGZ1bmN0aW9uIChpZCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGlkICE9IGFsYnVtSWQ7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5wYXRjaChsb2NhbENvbGxlY3Rpb25zVVJMICsgJy8nICsgY29sbGVjdGlvbi5pZCwgewogICAgICAgICAgICAgICAgYWxidW1JZHM6IGNvbGxlY3Rpb24uYWxidW1JZHMKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBhbGJ1bSA9IHN0YXRlLmFsYnVtcy5maWx0ZXIoZnVuY3Rpb24gKGFsYnVtKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYWxidW0uaWQgPT0gYWxidW1JZDsKICAgICAgICAgICAgICB9KVswXTsKICAgICAgICAgICAgICBhbGJ1bS5jb2xsZWN0aW9ucyA9IGFsYnVtLmNvbGxlY3Rpb25zLmZpbHRlcihmdW5jdGlvbiAoaWQpIHsKICAgICAgICAgICAgICAgIHJldHVybiBpZCAhPSBjb2xsZWN0aW9uLmlkOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGNvbW1pdCgncmVtb3ZlRnJvbVNob3duQWxidW1zJywgYWxidW1JZCk7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNSk7CiAgICB9KSkoKTsKICB9LAogIHJlc2V0U2hvd25Db2xsZWN0aW9uOiBmdW5jdGlvbiByZXNldFNob3duQ29sbGVjdGlvbihfcmVmNiwgY29sbGVjdGlvbklkKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgdmFyIGNvbW1pdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmNi5jb21taXQ7CiAgICAgICAgICAgICAgY29tbWl0KCdzZXRTaG93bkNvbGxlY3Rpb25JZCcsIGNvbGxlY3Rpb25JZCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNik7CiAgICB9KSkoKTsKICB9Cn07CnZhciBtdXRhdGlvbnMgPSB7CiAgc2V0QWxidW1zOiBmdW5jdGlvbiBzZXRBbGJ1bXMoc3RhdGUsIGFsYnVtcykgewogICAgYWxidW1zLmZvckVhY2goZnVuY3Rpb24gKGFsYnVtKSB7CiAgICAgIGFsYnVtLmNvbGxlY3Rpb25zID0gW107CiAgICAgIGNvbGxlY3Rpb25zLnN0YXRlLmNvbGxlY3Rpb25zLmZvckVhY2goZnVuY3Rpb24gKGNvbGxlY3Rpb24pIHsKICAgICAgICBpZiAoY29sbGVjdGlvbi5hbGJ1bUlkcy5pbmNsdWRlcyhhbGJ1bS5pZCkpIHsKICAgICAgICAgIGFsYnVtLmNvbGxlY3Rpb25zLnB1c2goY29sbGVjdGlvbi5pZCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwogICAgc3RhdGUuYWxidW1zID0gYWxidW1zOwogIH0sCiAgbmV3QWxidW06IGZ1bmN0aW9uIG5ld0FsYnVtKHN0YXRlLCBhbGJ1bSkgewogICAgcmV0dXJuIHN0YXRlLmFsYnVtcyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoc3RhdGUuYWxidW1zKSwgW2FsYnVtXSk7CiAgfSwKICByZW1vdmVBbGJ1bTogZnVuY3Rpb24gcmVtb3ZlQWxidW0oc3RhdGUsIGlkKSB7CiAgICByZXR1cm4gc3RhdGUuYWxidW1zID0gc3RhdGUuYWxidW1zLmZpbHRlcihmdW5jdGlvbiAoYWxidW0pIHsKICAgICAgcmV0dXJuIGFsYnVtLmlkICE9PSBpZDsKICAgIH0pOwogIH0sCiAgc2V0U2hvd25BbGJ1bXM6IGZ1bmN0aW9uIHNldFNob3duQWxidW1zKHN0YXRlLCBhbGJ1bXMpIHsKICAgIHN0YXRlLnNob3duQWxidW1zID0gYWxidW1zOwogIH0sCiAgcmVtb3ZlRnJvbVNob3duQWxidW1zOiBmdW5jdGlvbiByZW1vdmVGcm9tU2hvd25BbGJ1bXMoc3RhdGUsIGFsYnVtSWQpIHsKICAgIHN0YXRlLnNob3duQWxidW1zID0gc3RhdGUuc2hvd25BbGJ1bXMuZmlsdGVyKGZ1bmN0aW9uIChhbGJ1bSkgewogICAgICByZXR1cm4gYWxidW0uaWQgIT0gYWxidW1JZDsKICAgIH0pOwogIH0sCiAgc2V0U2hvd25Db2xsZWN0aW9uSWQ6IGZ1bmN0aW9uIHNldFNob3duQ29sbGVjdGlvbklkKHN0YXRlLCBjb2xsZWN0aW9uSWQpIHsKICAgIHN0YXRlLnNob3duQ29sbGVjdGlvbklkID0gY29sbGVjdGlvbklkOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiBzdGF0ZSwKICBnZXR0ZXJzOiBnZXR0ZXJzLAogIGFjdGlvbnM6IGFjdGlvbnMsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMKfTs="},{"version":3,"sources":["/home/seba/Desktop/tareas-avanzado/tarea5/src/store/modules/albums.js"],"names":["axios","collections","localMainURL","localCollectionsURL","state","albums","shownAlbums","shownCollectionId","getters","allAlbums","actions","fetchAlbums","commit","get","response","data","changeShownAlbums","collectionId","collection","filter","id","album","albumIds","includes","addAlbum","albumData","params","mbid","getRes","length","console","log","newAlbum","name","artist","reviews","score","image","post","res","removeAlbum","albumId","delete","removeFromCollection","patch","resetShownCollection","mutations","setAlbums","forEach","push","setShownAlbums","removeFromShownAlbums","setShownCollectionId"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport collections from './collections';\n\nconst localMainURL = \"http://localhost:3000/albums\";\nconst localCollectionsURL = \"http://localhost:3000/collections\";\n\n\nconst state = {\n    albums: [],\n    shownAlbums: [],\n    shownCollectionId: 0,\n};\n\nconst getters = {\n    allAlbums: state => state.albums,\n    shownAlbums: state => state.shownAlbums,\n    shownCollectionId: state => state.shownCollectionId\n  };\n  \nconst actions = {\n    async fetchAlbums({ commit }) {\n        const response = await axios.get(localMainURL);\n        commit('setAlbums', response.data);\n    },\n    async changeShownAlbums({ commit }, collectionId) {\n      const collection = collections.state.collections\n        .filter(collection => collection.id == collectionId)[0];\n      const albums = state.albums\n        .filter(album => collection.albumIds.includes(album.id));\n      commit('setShownAlbums', albums);\n      commit('setShownCollectionId', collectionId);\n    },\n    async addAlbum({ commit }, albumData) {\n\n        const getRes = await axios.get(localMainURL, {\n          params: {\n            mbid: albumData.mbid,\n          }\n        });\n        if (getRes.data.length) {\n          console.log(\"Álbum ya existe\");\n        }\n        else {\n          const newAlbum = {\n            mbid: albumData.mbid,\n            name: albumData.name,\n            artist: albumData.artist,\n            reviews: [],\n            score: 0,\n            image: albumData.image[2]['#text'],\n          }\n          const res = await axios.post(localMainURL, newAlbum);\n          res.data.collections = []\n          commit('newAlbum', res.data);\n        }\n    },\n    async removeAlbum({ commit }, albumId) {\n        await axios.delete(localMainURL + '/' + albumId);\n        commit('removeAlbum', albumId);\n    },\n    async removeFromCollection({ commit }, albumId) {\n        const collection = collections.state.collections\n            .filter(collection => collection.id == state.shownCollectionId)[0];\n        collection.albumIds = collection.albumIds\n            .filter(id => id != albumId);\n        await axios.patch(localCollectionsURL + '/' + collection.id, {\n            albumIds: collection.albumIds,\n        });\n        const album = state.albums\n            .filter(album => album.id == albumId)[0];\n        album.collections = album.collections\n            .filter(id => id != collection.id);\n        commit('removeFromShownAlbums', albumId);\n    },\n    async resetShownCollection({ commit }, collectionId) {\n      commit('setShownCollectionId', collectionId);\n    }\n    \n};\n\nconst mutations = {\n  setAlbums: (state, albums) => {\n    albums.forEach((album) => {\n      album.collections = []\n      collections.state.collections.forEach((collection) => {\n        if (collection.albumIds.includes(album.id)) {\n          album.collections.push(collection.id);\n        }\n      });\n    });\n    state.albums = albums;\n  },\n  newAlbum: (state, album) => state.albums = [...state.albums, album],\n  removeAlbum: (state, id) =>\n  (state.albums = state.albums.filter(album => album.id !== id)),\n  setShownAlbums: (state, albums) => {\n    state.shownAlbums = albums;\n  },\n  removeFromShownAlbums: (state, albumId) => {\n    state.shownAlbums = state.shownAlbums\n      .filter(album => album.id != albumId);\n  },\n  setShownCollectionId: (state, collectionId) => {\n    state.shownCollectionId = collectionId;\n  },\n\n};\n\n\nexport default {\n    state,\n    getters,\n    actions,\n    mutations\n};"]}]}