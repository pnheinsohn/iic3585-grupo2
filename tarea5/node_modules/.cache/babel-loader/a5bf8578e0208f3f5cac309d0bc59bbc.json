{"remainingRequest":"/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/babel-loader/lib/index.js!/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/eslint-loader/index.js??ref--13-0!/home/seba/Desktop/tareas-avanzado/tarea5/src/store/modules/albums.js","dependencies":[{"path":"/home/seba/Desktop/tareas-avanzado/tarea5/src/store/modules/albums.js","mtime":1591603138779},{"path":"/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/seba/Desktop/tareas-avanzado/tarea5/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvaG9tZS9zZWJhL0Rlc2t0b3AvdGFyZWFzLWF2YW56YWRvL3RhcmVhNS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9zZWJhL0Rlc2t0b3AvdGFyZWFzLWF2YW56YWRvL3RhcmVhNS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBjb2xsZWN0aW9ucyBmcm9tICcuL2NvbGxlY3Rpb25zJzsKdmFyIGxvY2FsTWFpblVSTCA9ICJodHRwOi8vbG9jYWxob3N0OjMwMDAvYWxidW1zIjsKdmFyIGxvY2FsQ29sbGVjdGlvbnNVUkwgPSAiaHR0cDovL2xvY2FsaG9zdDozMDAwL3BsYXlsaXN0cyI7CnZhciBzdGF0ZSA9IHsKICBhbGJ1bXM6IFtdLAogIHNob3duQWxidW1zOiBbXSwKICBzaG93bkNvbGxlY3Rpb25JZDogMAp9Owp2YXIgZ2V0dGVycyA9IHsKICBhbGxBbGJ1bXM6IGZ1bmN0aW9uIGFsbEFsYnVtcyhzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLmFsYnVtczsKICB9LAogIHNob3duQWxidW1zOiBmdW5jdGlvbiBzaG93bkFsYnVtcyhzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnNob3duQWxidW1zOwogIH0KfTsKdmFyIGFjdGlvbnMgPSB7CiAgZmV0Y2hBbGJ1bXM6IGZ1bmN0aW9uIGZldGNoQWxidW1zKF9yZWYpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBjb21taXQsIHJlc3BvbnNlOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldChsb2NhbE1haW5VUkwpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBjb21taXQoJ3NldEFsYnVtcycsIHJlc3BvbnNlLmRhdGEpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgY2hhbmdlU2hvd25BbGJ1bXM6IGZ1bmN0aW9uIGNoYW5nZVNob3duQWxidW1zKF9yZWYyLCBjb2xsZWN0aW9uSWQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgY29tbWl0LCBjb2xsZWN0aW9uLCBhbGJ1bXM7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICAgICAgICAgIGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9ucy5zdGF0ZS5jb2xsZWN0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKGNvbGxlY3Rpb24pIHsKICAgICAgICAgICAgICAgIHJldHVybiBjb2xsZWN0aW9uLmlkID09IGNvbGxlY3Rpb25JZDsKICAgICAgICAgICAgICB9KVswXTsKICAgICAgICAgICAgICBhbGJ1bXMgPSBzdGF0ZS5hbGJ1bXMuZmlsdGVyKGZ1bmN0aW9uIChhbGJ1bSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb24uYWxidW1JZHMuaW5jbHVkZXMoYWxidW0uaWQpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGNvbW1pdCgnc2V0U2hvd25BbGJ1bXMnLCBhbGJ1bXMpOwogICAgICAgICAgICAgIGNvbW1pdCgnc2V0U2hvd25Db2xsZWN0aW9uSWQnLCBjb2xsZWN0aW9uSWQpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpKCk7CiAgfSwKICBhZGRBbGJ1bTogZnVuY3Rpb24gYWRkQWxidW0oX3JlZjMsIGFsYnVtRGF0YSkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgIHZhciBjb21taXQsIGdldFJlcywgbmV3QWxidW0sIHJlczsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQobG9jYWxNYWluVVJMLCB7CiAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgbWJpZDogYWxidW1EYXRhLm1iaWQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBnZXRSZXMgPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgaWYgKCFnZXRSZXMuZGF0YS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gODsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY29uc29sZS5sb2coIsOBbGJ1bSB5YSBleGlzdGUiKTsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE0OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIG5ld0FsYnVtID0gewogICAgICAgICAgICAgICAgbWJpZDogYWxidW1EYXRhLm1iaWQsCiAgICAgICAgICAgICAgICBuYW1lOiBhbGJ1bURhdGEubmFtZSwKICAgICAgICAgICAgICAgIGFydGlzdDogYWxidW1EYXRhLmFydGlzdCwKICAgICAgICAgICAgICAgIHJldmlld3M6IFtdLAogICAgICAgICAgICAgICAgc2NvcmU6IDAsCiAgICAgICAgICAgICAgICBpbWFnZTogYWxidW1EYXRhLmltYWdlWzJdWycjdGV4dCddCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDExOwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KGxvY2FsTWFpblVSTCwgbmV3QWxidW0pOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICByZXMuZGF0YS5jb2xsZWN0aW9ucyA9IFtdOwogICAgICAgICAgICAgIGNvbW1pdCgnbmV3QWxidW0nLCByZXMuZGF0YSk7CgogICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTMpOwogICAgfSkpKCk7CiAgfSwKICByZW1vdmVBbGJ1bTogZnVuY3Rpb24gcmVtb3ZlQWxidW0oX3JlZjQsIGFsYnVtSWQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICB2YXIgY29tbWl0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY0LmNvbW1pdDsKICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmRlbGV0ZShsb2NhbE1haW5VUkwgKyAnLycgKyBhbGJ1bUlkKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjb21taXQoJ3JlbW92ZUFsYnVtJywgYWxidW1JZCk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNCk7CiAgICB9KSkoKTsKICB9LAogIHJlbW92ZUZyb21Db2xsZWN0aW9uOiBmdW5jdGlvbiByZW1vdmVGcm9tQ29sbGVjdGlvbihfcmVmNSwgYWxidW1JZCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgIHZhciBjb21taXQsIGNvbGxlY3Rpb24sIGFsYnVtOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY1LmNvbW1pdDsKICAgICAgICAgICAgICBjb2xsZWN0aW9uID0gY29sbGVjdGlvbnMuc3RhdGUuY29sbGVjdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChjb2xsZWN0aW9uKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY29sbGVjdGlvbi5pZCA9PSBzdGF0ZS5zaG93bkNvbGxlY3Rpb25JZDsKICAgICAgICAgICAgICB9KVswXTsKICAgICAgICAgICAgICBjb2xsZWN0aW9uLmFsYnVtSWRzID0gY29sbGVjdGlvbi5hbGJ1bUlkcy5maWx0ZXIoZnVuY3Rpb24gKGlkKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gaWQgIT0gYWxidW1JZDsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBhdGNoKGxvY2FsQ29sbGVjdGlvbnNVUkwgKyAnLycgKyBjb2xsZWN0aW9uLmlkLCB7CiAgICAgICAgICAgICAgICBhbGJ1bUlkczogY29sbGVjdGlvbi5hbGJ1bUlkcwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGFsYnVtID0gc3RhdGUuYWxidW1zLmZpbHRlcihmdW5jdGlvbiAoYWxidW0pIHsKICAgICAgICAgICAgICAgIHJldHVybiBhbGJ1bS5pZCA9PSBhbGJ1bUlkOwogICAgICAgICAgICAgIH0pWzBdOwogICAgICAgICAgICAgIGFsYnVtLmNvbGxlY3Rpb25zID0gYWxidW0uY29sbGVjdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChpZCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGlkICE9IGNvbGxlY3Rpb24uaWQ7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgY29tbWl0KCdyZW1vdmVGcm9tU2hvd25BbGJ1bXMnLCBhbGJ1bUlkKTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU1KTsKICAgIH0pKSgpOwogIH0KfTsKdmFyIG11dGF0aW9ucyA9IHsKICBzZXRBbGJ1bXM6IGZ1bmN0aW9uIHNldEFsYnVtcyhzdGF0ZSwgYWxidW1zKSB7CiAgICBhbGJ1bXMuZm9yRWFjaChmdW5jdGlvbiAoYWxidW0pIHsKICAgICAgYWxidW0uY29sbGVjdGlvbnMgPSBbXTsKICAgICAgY29sbGVjdGlvbnMuc3RhdGUuY29sbGVjdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoY29sbGVjdGlvbikgewogICAgICAgIGlmIChjb2xsZWN0aW9uLmFsYnVtSWRzLmluY2x1ZGVzKGFsYnVtLmlkKSkgewogICAgICAgICAgYWxidW0uY29sbGVjdGlvbnMucHVzaChjb2xsZWN0aW9uLmlkKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CiAgICBzdGF0ZS5hbGJ1bXMgPSBhbGJ1bXM7CiAgfSwKICBuZXdBbGJ1bTogZnVuY3Rpb24gbmV3QWxidW0oc3RhdGUsIGFsYnVtKSB7CiAgICByZXR1cm4gc3RhdGUuYWxidW1zID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShzdGF0ZS5hbGJ1bXMpLCBbYWxidW1dKTsKICB9LAogIHJlbW92ZUFsYnVtOiBmdW5jdGlvbiByZW1vdmVBbGJ1bShzdGF0ZSwgaWQpIHsKICAgIHJldHVybiBzdGF0ZS5hbGJ1bXMgPSBzdGF0ZS5hbGJ1bXMuZmlsdGVyKGZ1bmN0aW9uIChhbGJ1bSkgewogICAgICByZXR1cm4gYWxidW0uaWQgIT09IGlkOwogICAgfSk7CiAgfSwKICBzZXRTaG93bkFsYnVtczogZnVuY3Rpb24gc2V0U2hvd25BbGJ1bXMoc3RhdGUsIGFsYnVtcykgewogICAgc3RhdGUuc2hvd25BbGJ1bXMgPSBhbGJ1bXM7CiAgfSwKICByZW1vdmVGcm9tU2hvd25BbGJ1bXM6IGZ1bmN0aW9uIHJlbW92ZUZyb21TaG93bkFsYnVtcyhzdGF0ZSwgYWxidW1JZCkgewogICAgc3RhdGUuc2hvd25BbGJ1bXMgPSBzdGF0ZS5zaG93bkFsYnVtcy5maWx0ZXIoZnVuY3Rpb24gKGFsYnVtKSB7CiAgICAgIHJldHVybiBhbGJ1bS5pZCAhPSBhbGJ1bUlkOwogICAgfSk7CiAgfSwKICBzZXRTaG93bkNvbGxlY3Rpb25JZDogZnVuY3Rpb24gc2V0U2hvd25Db2xsZWN0aW9uSWQoc3RhdGUsIGNvbGxlY3Rpb25JZCkgewogICAgc3RhdGUuc2hvd25Db2xsZWN0aW9uSWQgPSBjb2xsZWN0aW9uSWQ7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHN0YXRlLAogIGdldHRlcnM6IGdldHRlcnMsCiAgYWN0aW9uczogYWN0aW9ucywKICBtdXRhdGlvbnM6IG11dGF0aW9ucwp9Ow=="},{"version":3,"sources":["/home/seba/Desktop/tareas-avanzado/tarea5/src/store/modules/albums.js"],"names":["axios","collections","localMainURL","localCollectionsURL","state","albums","shownAlbums","shownCollectionId","getters","allAlbums","actions","fetchAlbums","commit","get","response","data","changeShownAlbums","collectionId","collection","filter","id","album","albumIds","includes","addAlbum","albumData","params","mbid","getRes","length","console","log","newAlbum","name","artist","reviews","score","image","post","res","removeAlbum","albumId","delete","removeFromCollection","patch","mutations","setAlbums","forEach","push","setShownAlbums","removeFromShownAlbums","setShownCollectionId"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport collections from './collections';\n\nconst localMainURL = \"http://localhost:3000/albums\";\nconst localCollectionsURL = \"http://localhost:3000/playlists\";\n\n\nconst state = {\n    albums: [],\n    shownAlbums: [],\n    shownCollectionId: 0,\n};\n\nconst getters = {\n    allAlbums: state => state.albums,\n    shownAlbums: state => state.shownAlbums,\n  };\n  \nconst actions = {\n    async fetchAlbums({ commit }) {\n        const response = await axios.get(localMainURL);\n        commit('setAlbums', response.data);\n    },\n    async changeShownAlbums({ commit }, collectionId) {\n      const collection = collections.state.collections\n        .filter(collection => collection.id == collectionId)[0];\n      const albums = state.albums\n        .filter(album => collection.albumIds.includes(album.id));\n      commit('setShownAlbums', albums);\n      commit('setShownCollectionId', collectionId);\n    },\n    async addAlbum({ commit }, albumData) {\n\n        const getRes = await axios.get(localMainURL, {\n          params: {\n            mbid: albumData.mbid,\n          }\n        });\n        if (getRes.data.length) {\n          console.log(\"Álbum ya existe\");\n        }\n        else {\n          const newAlbum = {\n            mbid: albumData.mbid,\n            name: albumData.name,\n            artist: albumData.artist,\n            reviews: [],\n            score: 0,\n            image: albumData.image[2]['#text'],\n          }\n          const res = await axios.post(localMainURL, newAlbum);\n          res.data.collections = []\n          commit('newAlbum', res.data);\n        }\n        \n    },\n    async removeAlbum({ commit }, albumId) {\n        await axios.delete(localMainURL + '/' + albumId);\n        commit('removeAlbum', albumId);\n    },\n    async removeFromCollection({ commit }, albumId) {\n        const collection = collections.state.collections\n            .filter(collection => collection.id == state.shownCollectionId)[0];\n        collection.albumIds = collection.albumIds\n            .filter(id => id != albumId);\n        await axios.patch(localCollectionsURL + '/' + collection.id, {\n            albumIds: collection.albumIds,\n        });\n        const album = state.albums\n            .filter(album => album.id == albumId)[0];\n        album.collections = album.collections\n            .filter(id => id != collection.id);\n        commit('removeFromShownAlbums', albumId);\n    }\n    \n};\n\nconst mutations = {\n  setAlbums: (state, albums) => {\n    albums.forEach((album) => {\n      album.collections = []\n      collections.state.collections.forEach((collection) => {\n        if (collection.albumIds.includes(album.id)) {\n          album.collections.push(collection.id);\n        }\n      });\n    });\n    state.albums = albums;\n  },\n  newAlbum: (state, album) => state.albums = [...state.albums, album],\n  removeAlbum: (state, id) =>\n  (state.albums = state.albums.filter(album => album.id !== id)),\n  setShownAlbums: (state, albums) => {\n    state.shownAlbums = albums;\n  },\n  removeFromShownAlbums: (state, albumId) => {\n    state.shownAlbums = state.shownAlbums\n      .filter(album => album.id != albumId);\n  },\n  setShownCollectionId: (state, collectionId) => {\n    state.shownCollectionId = collectionId;\n  }\n\n};\n\n\nexport default {\n    state,\n    getters,\n    actions,\n    mutations\n};"]}]}